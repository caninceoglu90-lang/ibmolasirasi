<!DOCTYPE html>
<html lang="tr" class="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mola Sƒ±rasƒ±</title>
  <!-- Google Fonts: Inter, Montserrat ve blob metni i√ßin Dongle -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Montserrat:wght@600&family=Dongle&display=swap"
    rel="stylesheet"
  />
  <style>
#canvas-stars {
      background: black;
      z-index: 2;
    }
#canvas-stars, #canvas-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    #canvas-shapes { z-index: 2; }
    #toggleHint {
      color: #8f9ebb;
      font-size: 16px;
      position: absolute;
      top: 30px;
      left: 30px;
      z-index: 3;
      user-select: none;
      margin: 0;
    }
    #logoImg { display: none; }

    /* ---------- DEƒûƒ∞≈ûKENLER (Light Mode) ---------- */
    :root {
      --primary-color: #002f6c;
      --light-bg: #ffffff;
      --info-bg: #eaf4fc;
      --button-bg: #FE9418;
      --button-hover-bg: #ff7b28;
      --turknet-yellow: #f9a825;
      --font-family: "Inter", Helvetica, Arial, sans-serif;
      --border-radius: 12px;
      --table-header-bg: #eaf4fc; /* A√ßƒ±k mavi ton */
      --table-row-even: #f9f9f9;
      --text-muted: #555555;

      /* Blob renkleri */
      --color-bg1: rgb(108, 0, 162);
      --color-bg2: rgb(0, 17, 82);
      --color1: 18, 113, 255;
      --color2: 221, 74, 255;
      --color3: 100, 220, 255;
      --color4: 200, 50, 50;
      --color5: 180, 180, 50;
      --color-interactive: 140, 100, 255;
      --circle-size: 80%;
      --blending: hard-light;
    }

    /* ---------- DEƒûƒ∞≈ûKENLER (Dark Mode) ---------- */
    html.dark-mode {
      --primary-color: #ffffff;
      --light-bg: #121212;
      --info-bg: #333333;
      --button-bg: #444444;
      --button-hover-bg: #666666;
      --table-header-bg: #2a2a2a;
      --table-row-even: #1e1e1e;
      --text-muted: #cccccc;
    }

    /* ---------- GLOBAL ---------- */
    html, body {
      min-height: 100vh;
      margin: 0;
    }
    body {
      font-family: var(--font-family);
      background-color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative; /* gradient-bg‚Äôi kapsayacak ≈üekilde */
      color: var(--primary-color);
    }

    /* ---------- GRADIENT BLOBS ARKA PLAN ---------- */
    .gradient-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(40deg, var(--color-bg1), var(--color-bg2));
      z-index: 0;
    }
    .gradient-bg svg {
      position: fixed;
      top: 0;
      left: 0;
      width: 0;
      height: 0;
    }
    .gradient-bg .gradients-container {
      filter: url(#goo) blur(40px);
      width: 100%;
      height: 100%;
    }
    @keyframes moveInCircle {
      0%   { transform: rotate(0deg); }
      50%  { transform: rotate(180deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes moveVertical {
      0%   { transform: translateY(-50%); }
      50%  { transform: translateY(50%); }
      100% { transform: translateY(-50%); }
    }
    @keyframes moveHorizontal {
      0%   { transform: translateX(-50%) translateY(-10%); }
      50%  { transform: translateX(50%) translateY(10%); }
      100% { transform: translateX(-50%) translateY(-10%); }
    }
    .gradient-bg .g1,
    .gradient-bg .g2,
    .gradient-bg .g3,
    .gradient-bg .g4,
    .gradient-bg .g5,
    .gradient-bg .interactive {
      position: absolute;
      mix-blend-mode: var(--blending);
      background: radial-gradient(
        circle at center,
        rgba(var(--color1), 0.8) 0,
        rgba(var(--color1), 0) 50%
      ) no-repeat;
      width: var(--circle-size);
      height: var(--circle-size);
      top: calc(50% - var(--circle-size) / 2);
      left: calc(50% - var(--circle-size) / 2);
      opacity: 1;
    }
    .gradient-bg .g1 {
      background: radial-gradient(circle at center, rgba(var(--color1), 0.8) 0, rgba(var(--color1), 0) 50%) no-repeat;
      transform-origin: center center;
      animation: moveVertical 30s ease infinite;
    }
    .gradient-bg .g2 {
      background: radial-gradient(circle at center, rgba(var(--color2), 0.8) 0, rgba(var(--color2), 0) 50%) no-repeat;
      transform-origin: calc(50% - 400px);
      animation: moveInCircle 20s reverse infinite;
    }
    .gradient-bg .g3 {
      background: radial-gradient(circle at center, rgba(var(--color3), 0.8) 0, rgba(var(--color3), 0) 50%) no-repeat;
      top: calc(50% - var(--circle-size) / 2 + 200px);
      left: calc(50% - var(--circle-size) / 2 - 500px);
      transform-origin: calc(50% + 400px);
      animation: moveInCircle 40s linear infinite;
    }
    .gradient-bg .g4 {
      background: radial-gradient(circle at center, rgba(var(--color4), 0.8) 0, rgba(var(--color4), 0) 50%) no-repeat;
      transform-origin: calc(50% - 200px);
      animation: moveHorizontal 40s ease infinite;
      opacity: 0.7;
    }
    .gradient-bg .g5 {
      background: radial-gradient(circle at center, rgba(var(--color5), 0.8) 0, rgba(var(--color5), 0) 50%) no-repeat;
      width: calc(var(--circle-size) * 2);
      height: calc(var(--circle-size) * 2);
      top: calc(50% - var(--circle-size));
      left: calc(50% - var(--circle-size));
      transform-origin: calc(50% - 800px) calc(50% + 200px);
      animation: moveInCircle 20s ease infinite;
    }
    .gradient-bg .interactive {
      background: radial-gradient(circle at center, rgba(var(--color-interactive), 0.8) 0, rgba(var(--color-interactive), 0) 50%) no-repeat;
      width: 100%;
      height: 100%;
      top: -50%;
      left: -50%;
      opacity: 0.7;
    }

    /* ---------- ORƒ∞Jƒ∞NAL CARD STƒ∞LLERƒ∞ (Bƒ∞RKA√á K√ú√á√úK EKLEMEYLE) ---------- */
    .card , .card2 {
      background-color: var(--light-bg);
      border-radius: var(--border-radius);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      width: 380px;
      max-width: 90%;
      padding: 24px;
      box-sizing: border-box;
      position: relative; /* z-index tanƒ±mlamak i√ßin */
      z-index: 1;        /* Gradient‚Äôin √ºst√ºnde */
      margin: 2rem auto;
      color: var(--primary-color);
    }
    .logo {
      display: flex;
      align-items: center;
      justify-content: left;
      margin-bottom: 24px;
    }
    .logo img {
      height: 45px;
      width: auto;
      margin-right: 8px;
    }
    .logo-text {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.6rem;
      font-weight: 600;
      color: var(--primary-color);
      line-height: 1.6rem; /* Logo ile hizayƒ± korumak i√ßin */
    }
    .title {
      font-size: 2.4rem;
      font-weight: 600;
      color: rgb(78, 0, 82);
      text-align: left;
      margin-bottom: 12px;
      font-family: 'Montserrat';
    }
    .info-box {
      background: linear-gradient(90deg, rgb(255, 239, 254) 0%, rgb(255, 248, 255) 100%);
      border-radius: 8px;
      padding: 12px 16px;
      margin: 0 auto 20px auto;
      font-size: 0.95rem;
      text-align: center;
      color: rgb(78, 0, 82);
      max-width: 100%;
    }
    .info-box strong {
      font-weight: 500;
    }
    .btn-primary {
      display: block;
      width: 100%;
      background-color: rgb(78, 0, 82);
      color: #ffffff;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
      padding: 12px 0;
      border-radius: 8px;
      text-align: center;
      transition: background-color 0.2s ease;
      margin-bottom: 24px;
    }
    .btn-primary:hover {
      background: linear-gradient(90deg, rgb(255, 239, 254) 0%, rgb(255, 248, 255) 100%);
      color: rgb(78, 0, 82);
      border: 1px solid rgb(153, 108, 156);
    }
    .table-wrapper {
      position: relative;
      overflow-x: auto;
      margin-bottom: 24px;
    }
    .loader {
      position: absolute;
      top: -32px;
      left: calc(50% - 32px);
      width: 64px;
      height: 64px;
      border-radius: 50%;
      perspective: 800px;
      display: none;
      z-index: 10;
    }
    .inner {
      position: absolute;
      box-sizing: border-box;
      width: 100%;
      height: 100%;
      border-radius: 50%;
    }
    .inner.one {
      left: 0;
      top: 0;
      border-bottom: rgb(78, 0, 82);
      animation: rotate-one 1s linear infinite;
    }
    .inner.two {
      right: 0;
      top: 0;
      border-right: rgb(78, 0, 82);
      animation: rotate-two 1s linear infinite;
    }
    .inner.three {
      right: 0;
      bottom: 0;
      border-top: rgb(78, 0, 82);
      animation: rotate-three 1s linear infinite;
    }
    @keyframes rotate-one {
      from { transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg); }
      to   { transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg); }
    }
    @keyframes rotate-two {
      from { transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg); }
      to   { transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg); }
    }
    @keyframes rotate-three {
      from { transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg); }
      to   { transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg); }
    }
    table {
      width: 100%;
      border-collapse: collapse;
      border-radius: 8px;
      overflow: hidden;
      font-size: 0.95rem;
      background-color: var(--light-bg);
      color: rgb(78, 0, 82);
    }
    thead {
      background: linear-gradient(90deg, rgb(255, 239, 254) 0%, rgb(255, 248, 255) 100%);
    }
    th, td {
      padding: 12px 8px;
      text-align: left;
    }
    th {
      font-weight: 500;
      color: rgb(78, 0, 82);
    }
    tbody tr:nth-child(even) {
      background-color: var(--table-row-even);
    }
    .placeholder {
      text-align: center;
      color: var(--text-muted);
      font-style: italic;
      padding: 12px 0;
    }
    .card-footer {
      text-align: center;
      margin-top: 16px;
      line-height: 1.3;
      color: rgb(78, 0, 82);
    }
    .card-footer .version {
      opacity: 0.6;      /* ‚Äúv.2‚Äù kƒ±smƒ± biraz silik */
      font-size: 0.85rem;
      margin-bottom: 4px;
    }
    .card-footer .copyright {
      font-size: 0.67rem;
      opacity: 0.9;      /* Telif hakkƒ± biraz daha net */
    }

    /* ---------- TEMA DEƒûƒ∞≈ûTƒ∞RME BUTONU (DAHA Dƒ∞KKAT √áEKƒ∞Cƒ∞) ---------- */
    .theme-toggle {
      position: absolute;
      top: 16px;
      right: 16px;
      background-color: rgb(78, 0, 82);
      color: #ffffff;
      border: none;
      padding: 8px 12px;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      z-index: 2;
      transition: background-color 0.2s ease, transform 0.1s ease;
    }
    .theme-toggle:hover {
      background: linear-gradient(90deg, rgb(255, 239, 254) 0%, rgb(255, 248, 255) 100%);
      transform: translateY(-1px);
      color: rgb(78, 0, 82);
      border: 1px solid rgb(153, 108, 156);
    }
    .theme-toggle:active {
      transform: translateY(0);
    }
  </style>
</head>
<body>
<!-- ‚≠ê Yƒ±ldƒ±z Arka Planƒ± -->
  <canvas id="canvas-stars"></canvas>
  <!-- üîÑ Animasyon ƒ∞pucu -->
    <!-- ‚ö™ Nokta Partik√ºlleri -->
  <canvas id="canvas-shapes"></canvas>
  <!-- Gizli Logo G√∂rseli -->
  <img id="logoImg" src="https://ik.imagekit.io/labi7oyze/logo_image.png?updatedAt=1762089509729" crossOrigin="anonymous" alt="Logo" />
  <!-- ---------- GRADIENT BLOBS ARKA PLAN ---------- -->
  <div class="gradient-bg">
    <svg xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
          <feColorMatrix in="blur" mode="matrix"
            values="1 0 0 0 0  
                    0 1 0 0 0  
                    0 0 1 0 0  
                    0 0 0 18 -8"
            result="goo" />
          <feBlend in="SourceGraphic" in2="goo" />
        </filter>
      </defs>
    </svg>
    <div class="gradients-container">
      <div class="g1"></div>
      <div class="g2"></div>
      <div class="g3"></div>
      <div class="g4"></div>
      <div class="g5"></div>
      <div class="interactive"></div>
    </div>
  </div>

  <!-- ---------- MEVCUT CARD B√ñL√úM√ú ---------- -->
  <div class="card">
    <!-- Tema Deƒüi≈ütirme Butonu (Daha belirgin ikon + metin) -->


    <!-- Logo ve ‚ÄúTurkNet‚Äù Metni (Logotype olarak resim) -->
    <div class="logo">
     <svg width="112" height="32" viewBox="0 0 112 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M26.8819 23.7083C24.6963 23.7083 23.3762 22.1348 23.3762 19.5121V10.1929H19.4073V19.7394C19.4073 24.5476 22.1873 27.3713 26.8819 27.3713C31.5765 27.3713 34.3304 24.5214 34.3304 19.7394V10.1929H30.3613V19.5121C30.3613 22.1348 29.0413 23.7083 26.8732 23.7083H26.8819ZM62.6642 10.1929H58.4679C58.1707 13.1565 55.5304 15.4382 51.8849 16.3911V4.63281H47.916V27.0129H51.8849V22.1348C51.8849 21.2955 52.4357 20.4912 53.205 20.1503L58.739 27.0129H63.3898L56.5534 18.4892C59.5607 16.6446 62.0261 13.751 62.6642 10.1929ZM36.0264 27.0129H39.9954V19.2848C39.9954 14.8874 42.3908 13.2876 46.3511 14.022V9.87815C44.2354 9.7645 42.452 9.90437 40.6074 10.7873C36.551 12.7019 36.0264 16.3736 36.0264 20.3338V27.0129ZM80.1664 18.7603C80.1664 23.7958 83.8119 27.3713 88.9174 27.3713C92.3619 27.3713 95.1856 25.754 96.6892 22.8778L93.2273 21.3042C92.1083 23.0789 90.8144 23.8832 89.0572 23.8832C86.5744 23.8832 84.6162 22.3358 84.3889 20.1678C85.7527 20.4825 87.2564 20.666 88.7863 20.666C91.3128 20.666 94.0753 20.1677 97.1264 19.1624C97.1701 18.6816 97.1701 18.498 97.1701 18.227C97.1701 13.375 93.6382 9.81695 88.8562 9.81695C84.0741 9.81695 80.1751 13.6198 80.1751 18.7515H80.1664V18.7603ZM84.3539 16.8894C84.6948 14.8612 86.6968 13.2439 88.8649 13.2439C91.033 13.2439 92.7203 14.7738 93.0088 16.8894C91.6887 17.2566 90.2987 17.4402 88.7688 17.4402C87.2389 17.4402 85.7876 17.2566 84.3451 16.8894H84.3539ZM71.3716 13.4974C73.5396 13.4974 74.8597 15.071 74.8597 17.6937V27.0129H78.8288V17.4664C78.8288 12.6844 76.0487 9.83443 71.3803 9.83443C66.7119 9.83443 63.9056 12.6582 63.9056 17.4664V27.0129H67.8746V17.6937C67.8746 15.071 69.1947 13.4974 71.3803 13.4974H71.3716ZM14.599 20.0366C14.599 21.8812 14.1444 23.7083 12.0025 23.7083C8.85526 23.7083 8.96894 19.853 8.96894 17.6238V13.8821H5V17.6238C5 22.4058 5.93535 27.3801 11.8102 27.3801C16.3474 27.3801 18.4194 24.4165 18.4194 20.0453H14.5903H14.599V20.0366ZM5.00864 4.63281V10.1929C5.00864 12.2211 6.53858 13.8821 8.42692 13.8821H14.9924V10.1929H8.97769V4.63281H5.00864ZM108.011 20.0366C108.011 21.8812 107.556 23.7083 105.414 23.7083C102.267 23.7083 102.38 19.853 102.38 17.6238V13.8821H98.4116V17.6238C98.4116 22.4058 99.3469 27.3801 105.222 27.3801C109.759 27.3801 111.831 24.4165 111.831 20.0453H108.002L108.011 20.0366ZM98.4203 4.63281V10.1929C98.4203 12.2211 99.9501 13.8821 101.838 13.8821H108.404V10.1929H102.389V4.63281H98.4203Z" fill="#471E50"></path> </svg>
    
    </div>

    <!-- Ba≈ülƒ±k: Mola Sƒ±rasƒ± -->
    <h1 class="title">Mola Sƒ±rasƒ±</h1>

    <!-- Bilgi kutucuƒüu: her 5 saniyede g√ºncellenecek -->
    <div class="info-box">
      Sƒ±ra bilgisi her <strong>5 saniyede</strong> g√ºncellenir.
    </div>
    <div class="info-box">
      <p class="degisken"></p>
    </div>  

    <!-- ‚ÄúMola Sƒ±rasƒ±na Katƒ±l‚Äù Butonu -->
    <a
      href="https://forms.gle/bMmRf2wX3MPEyu3K7"
      target="_blank" class="btn-primary"
    >Sƒ±raya Katƒ±l</a>

    <!-- Tablo ve 3D Loader -->
    <div class="table-wrapper">
      <!-- 3 par√ßalƒ± 3D Loader -->
      <div class="loader" id="loader">
        <div class="inner one"></div>
        <div class="inner two"></div>
        <div class="inner three"></div>
      </div>

      <table id="molaTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Zaman Damgasƒ±</th>
            <th>Ad Soyad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="3" class="placeholder">Veri y√ºklenemedi.</td>
          </tr>
        </tbody>
      </table>
    </div>

  
  </div>

  <div class="card2">
    
    <h1 class="title">Mola Sayacƒ±</h1>


    <div class="info-box">
      Ba≈ülat butonuna basƒ±ldƒ±ƒüƒ±nda 15 dakikalƒ±k s√ºre dolunca otomatik Whatsapp bildirimi g√∂nderir.
    </div>

    <!-- Tablo ve 3D Loader -->
    <div class="table-wrapper">
      <!-- 3 par√ßalƒ± 3D Loader -->
      <div class="loader" id="loader">
        <div class="inner one"></div>
        <div class="inner two"></div>
        <div class="inner three"></div>
      </div>

      <table id="molaTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Zaman Damgasƒ±</th>
            <th>Ad Soyad</th>
            <th>Sayac</th>
            
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="3" class="placeholder">Veri y√ºklenemedi.</td>
          </tr>
        </tbody>
      </table>
    </div>
<div class="card-footer">
      <div class="version">v3</div>
      <div class="copyright">
        ¬© 2025 Geli≈ütiriciler: Erhan Demirci , Ahmet Can ƒ∞nceoƒülu , Umut Ablay
      </div>
    </div>
  
  </div>

  <!-- ---------- JavaScript Kƒ±smƒ± (D√úZELTƒ∞LMƒ∞≈û Bƒ∞LDƒ∞Rƒ∞M KODU ve TEMA GE√áƒ∞≈ûƒ∞) ---------- -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenLite.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/easing/EasePack.min.js"></script>  
<script>
/* === 1) Yƒ±ldƒ±z Arka Planƒ± === */
     (function() {
    const canvas = document.getElementById('canvas-stars');
    const ctx = canvas.getContext('2d');
    const dotRadius = 2;
    const colors = ['#4e0052'];

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function drawStar(ctx, cx, cy, spikes, outerRadius, innerRadius, fillStyle, alpha) {
      let rot = Math.PI / 2 * 3;
      let x = cx;
      let y = cy;
      let step = Math.PI / spikes;
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(cx, cy - outerRadius);
      for (let i = 0; i < spikes; i++) {
        x = cx + Math.cos(rot) * outerRadius;
        y = cy + Math.sin(rot) * outerRadius;
        ctx.lineTo(x, y);
        rot += step;
        x = cx + Math.cos(rot) * innerRadius;
        y = cy + Math.sin(rot) * innerRadius;
        ctx.lineTo(x, y);
        rot += step;
      }
      ctx.closePath();
      ctx.globalAlpha = alpha;
      ctx.fillStyle = fillStyle;
      ctx.fill();
      ctx.restore();
    }

    class Star {
      constructor() { this.reset(); }
      reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.r = dotRadius;
        this.a = Math.random() * 0.5 + 0.3;
        this.da = (Math.random() * 0.005 + 0.002) * (Math.random() < 0.5 ? 1 : -1);
        this.color = colors[Math.floor(Math.random() * colors.length)];
      }
      update() {
        this.a += this.da;
        if (this.a <= 0.1 || this.a >= 1) this.da *= -1;
      }
      draw() {
        drawStar(ctx, this.x, this.y, 5, this.r * 2, this.r, this.color, this.a);
      }
    }

    let stars = [];
    function initStars() {
      stars = [];
      const count = Math.floor((window.innerWidth + window.innerHeight) / 8);
      for (let i = 0; i < count; i++) stars.push(new Star());
    }
    initStars();
    window.addEventListener('resize', initStars);

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      stars.forEach(s => { s.update(); s.draw(); });
      requestAnimationFrame(animate);
    }
    animate();
  })();

    /* === 2) Partik√ºllerden Logoya Birle≈üme === */
    (function() {
  const stage = document.getElementById('canvas-shapes');
  const ctx2 = stage.getContext('2d');
  const img = document.getElementById('logoImg');
  const imageW = 600, imageH = 126;
  const dotRadius = 1.5;
  let w, h;

  const offCanvas = document.createElement('canvas');
  const offCtx = offCanvas.getContext('2d');
  offCanvas.width = imageW;
  offCanvas.height = imageH;

  const dots = [];

  function resize() {
    w = stage.width = window.innerWidth;
    h = stage.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  // ‚òÖ Yƒ±ldƒ±z √ßizme fonksiyonu
  function drawStar(ctx, cx, cy, spikes, outerR, innerR, fillStyle, alpha) {
    let rot = Math.PI / 2 * 3;
    const step = Math.PI / spikes;
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(cx, cy - outerR);
    for (let i = 0; i < spikes; i++) {
      // dƒ±≈ü u√ß
      ctx.lineTo(
        cx + Math.cos(rot) * outerR,
        cy + Math.sin(rot) * outerR
      );
      rot += step;
      // i√ß u√ß
      ctx.lineTo(
        cx + Math.cos(rot) * innerR,
        cy + Math.sin(rot) * innerR
      );
      rot += step;
    }
    ctx.closePath();
    ctx.globalAlpha = alpha;
    ctx.fillStyle = fillStyle;
    ctx.fill();
    ctx.restore();
  }

  // Dot sƒ±nƒ±fƒ±
  function Dot(x, y, r, g, b, imgX, imgY) {
    this.x = x; this.y = y;
    this.r = r; this.g = g; this.b = b;
    this.targetX = imgX + (w - imageW) / 2;
    this.targetY = imgY + (h - imageH) / 2;
  }
  // ‚òÖ draw() artƒ±k yƒ±ldƒ±z √ßiziyor
  Dot.prototype.draw = function() {
    drawStar(
      ctx2,
      this.x, this.y,
      5,                 // 5 u√ßlu yƒ±ldƒ±z
      dotRadius * 2,     // dƒ±≈ü yarƒ±√ßap
      dotRadius,         // i√ß yarƒ±√ßap
      `rgb(${this.r},${this.g},${this.b})`,
      1                  // opaklƒ±k (1 = tam g√∂r√ºn√ºr)
    );
  };

  function loop() {
    ctx2.clearRect(0, 0, w, h);
    dots.forEach(d => d.draw());
    requestAnimationFrame(loop);
  }
  loop();

  function processImage() {
    offCtx.clearRect(0, 0, imageW, imageH);
    offCtx.drawImage(img, 0, 0, imageW, imageH);
    const data = offCtx.getImageData(0, 0, imageW, imageH).data;
    const pixels = [];
    for (let i = 0; i < data.length; i += 4) {
      if (data[i+3] !== 0) {
        const idx = i / 4;
        const x = idx % imageW, y = Math.floor(idx / imageW);
        if (x % (dotRadius * 2 + 1) === 0 && y % (dotRadius * 2 + 1) === 0) {
          pixels.push({ x, y, r: data[i], g: data[i+1], b: data[i+2] });
        }
      }
    }
    createDots(pixels);
  }

  function createDots(pixels) {
    pixels.forEach(p => {
      const startX = Math.random() * w;
      const startY = Math.random() * h;
      const dot = new Dot(startX, startY, p.r, p.g, p.b, p.x, p.y);
      dots.push(dot);
      const dur = 2 + Math.random() * 1;
      const delay = 0.5 + Math.random() * 0.5;
      TweenLite.to(dot, dur, {
        x: dot.targetX,
        y: dot.targetY,
        ease: Cubic.easeInOut,
        delay: delay
      });
    });
  }

  if (img.complete) processImage();
  else img.onload = processImage;
})();

  // ******************** BURAYA KENDƒ∞ ƒ∞SMƒ∞Nƒ∞ VE SOYADINI YAZ ********************
  // √ñrnek: const YOUR_NAME = "Umut Ablay";
  const YOUR_NAME = "AD SOYADINIZ";
  // **********************************************************************

  // 1) Mola Listesi i√ßin gerekli sabitler
  const SHEET_ID = "1e76vIg2R_du1QcIabDJK7eqxEOV8lic3z3r9Vi9-dRQ";
  const SHEET_NAME_QUEUE = "Form Responses 1";
  const BASE_URL_QUEUE =
    `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${encodeURIComponent(SHEET_NAME_QUEUE)}&tqx=out:json`;

  // 2) Uyarƒ± Mesajƒ± i√ßin gerekli sabitler
  const SHEET_NAME_WARNING = "Uyarƒ±/Bilgilendirme Mesajƒ±";
  const BASE_URL_WARNING =
    `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${encodeURIComponent(SHEET_NAME_WARNING)}&tqx=out:json`;

  // √ñnceki isim listesini ve son g√∂r√ºlen ismi saklamak i√ßin
  let previousNames = [];
  let lastName = null;

  // 5 saniyede bir mola listesini g√ºncelleyen fonksiyon
  async function refreshQueue() {
    const loader = document.getElementById("loader");
    const tbody = document.querySelector("#molaTable tbody");

    // Loader'ƒ± g√∂ster
    loader.style.display = "block";

    try {
      // Google Sheets'ten mola verisini √ßek
      const res = await fetch(`${BASE_URL_QUEUE}&cacheBuster=${Date.now()}`, {
        cache: "no-store",
      });
      const txt = await res.text();
      // JSON parse etmek i√ßin metnin i√ßinden ger√ßek JSON objesini ayƒ±klƒ±yoruz
      const json = JSON.parse(
        txt.slice(txt.indexOf("{"), txt.lastIndexOf("}") + 1)
      );
      const rows = json.table.rows || [];

      // Gelen satƒ±rlarƒ± filtrele (ba≈ülƒ±k satƒ±rlarƒ±nƒ± atla)
      const dataRows = rows.filter((r) => {
        const t = r.c?.[0]?.v;
        const n = r.c?.[1]?.v;
        return (
          t &&
          n &&
          n.toString().toLowerCase() !== "ad soyad" &&
          t.toString().toLowerCase() !== "zaman damgasƒ±"
        );
      });

      // Mevcut isim listesi
      const currentNames = dataRows.map((r) => r.c[1].v);

      // Debug (isteƒüe baƒülƒ±)
      console.log("------- Yenileme (Queue) -------");
      console.log("√ñnceki ƒ∞simler:", previousNames);
      console.log("Mevcut ƒ∞simler:", currentNames);

      // 1) √ñnceki listede olup, ≈üu anda olmayan isimler i√ßin bildirim
      previousNames.forEach((isim) => {
        if (!currentNames.includes(isim)) {
          lastName = isim; // Son g√∂r√ºlen eksilen ismi g√ºncelle
          sendNotification(isim + ", mola sƒ±rasƒ± sende!");
        }
      });

      // 2) Listede kimse yoksa (bo≈ü liste) ve lastName varsa, bildirim
      //    ve ardƒ±ndan lastName'i sƒ±fƒ±rla
      if (currentNames.length === 0 && lastName) {
        sendNotification(lastName + ", mola sƒ±rasƒ± sende!");
        lastName = null; // Tekrar tekrar bildirim gitmesini engeller
      }

      // 3) Tabloya veri yazma
      tbody.innerHTML = "";
      if (dataRows.length > 0) {
        dataRows.forEach((r, i) => {
          const ts = r.c[0].f || r.c[0].v || "-";
          const name = r.c[1].v || "-";
          const tr = document.createElement("tr");
          tr.innerHTML = `<td>${i + 1}</td><td>${ts}</td><td>${name}</td>`;
          tbody.appendChild(tr);
        });
      } else {
        tbody.innerHTML = `<tr><td colspan="3" class="placeholder">Listede kimse yok.</td></tr>`;
      }

      // Sonraki d√∂ng√º i√ßin √∂nceki isim listesini g√ºncelle
      previousNames = currentNames.slice();
    } catch (e) {
      console.error("Veri y√ºklenirken hata (Queue):", e);
      tbody.innerHTML = `<tr><td colspan="3" class="placeholder">Veri y√ºklenemedi.</td></tr>`;
    } finally {
      // Loader'ƒ± gizle
      loader.style.display = "none";
    }
  }

  // 5 saniyede bir ‚ÄúUyarƒ±/Bilgilendirme Mesajƒ±‚Äùnƒ± √ßeken fonksiyon
  async function refreshWarning() {
    try {
      const res = await fetch(`${BASE_URL_WARNING}&cacheBuster=${Date.now()}`, {
        cache: "no-store",
      });
      const txt = await res.text();
      const json = JSON.parse(
        txt.slice(txt.indexOf("{"), txt.lastIndexOf("}") + 1)
      );
      const rows = json.table.rows || [];

      // Eƒüer satƒ±r varsa, ilk satƒ±rƒ±n ikinci s√ºtununu (B1) al
      if (rows.length > 0 && rows[0].c?.[1]?.v) {
        const warningText = rows[0].c[1].v;
        document.querySelector(".degisken").innerText = warningText;
      } else {
        document.querySelector(".degisken").innerText = "";
      }
    } catch (e) {
      console.error("Uyarƒ± metni alƒ±nƒ±rken hata:", e);
      document.querySelector(".degisken").innerText = "";
    }
  }

  // Bildirim iznini almak i√ßin fonksiyon
  function requestNotificationPermission() {
    if (!("Notification" in window)) {
      console.log("Notification API desteklenmiyor.");
      return;
    }
    if (Notification.permission !== "granted") {
      Notification.requestPermission()
        .then(permission => {
          console.log("Bildirim izni durumu:", permission);
        })
        .catch(err => {
          console.error("Bildirim izni alƒ±namadƒ±:", err);
        });
    } else {
      console.log("Bildirim izni zaten verilmi≈ü:", Notification.permission);
    }
  }

  // Tarayƒ±cƒ± bildirimi ve ses oynatma
  function sendNotification(message) {
    if (Notification.permission === "granted") {
      const notificationSound = new Audio(
        "https://www.soundjay.com/button/beep-07.wav"
      );
      notificationSound.play().catch(() => {
        // Ses √ßalamazsa sessizce devam et
      });
      new Notification(message);
      console.log("Bildirim g√∂nderildi:", message);
    } else {
      console.log("Bildirim izni verilmedi. Mesaj:", message);
    }
  }

  

  // Sayfa y√ºklendiƒüinde:
  // 1) Bildirim izni istenir
  // 2) Hem queue hem warning fonksiyonlarƒ± ilk defa √ßaƒürƒ±lƒ±r
  // 3) 5 saniyede bir her iki fonksiyon da yeniden √ßalƒ±≈üƒ±r
  window.addEventListener("load", () => {
    requestNotificationPermission();
    // Tema d√ºƒümesine tƒ±klama olayƒ±
    document
      .getElementById("themeToggleBtn")

    // ƒ∞lk y√ºkleme
    refreshQueue();
    refreshWarning();
    // Her 5 saniyede bir yenile
    setInterval(() => {
      refreshQueue();
      refreshWarning();
    }, 5000);
 setTimeout(() => {
    document
      .querySelectorAll('#canvas-shapes, #canvas-stars')
      .forEach(canvas => {
        // 1) Opacity‚Äôyi 0‚Äôa √ßek
        canvas.classList.add('fade-out');
        // 2) 1s sonra tamamen DOM‚Äôdan da kaldƒ±r (isteƒüe baƒülƒ±)
        setTimeout(() => canvas.remove(), 1000);
      });
  }, 3800);
  });
  </script>
</body>
</html>
